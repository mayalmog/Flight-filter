(this["webpackJsonpmy-first-cli-proj"]=this["webpackJsonpmy-first-cli-proj"]||[]).push([[0],{67:function(t,e,n){},68:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(29),i=n.n(c),o=n(33),s=n(13),l=n(14),u=n(16),h=n(15),p=n(1),j=n(8),f=n.n(j),m=n(11),d=n(9),b=n(30),g="/api/",v=n.n(b).a.create({withCredentials:!0}),O=function(t,e){return w(t,"GET",e)};function w(t){return x.apply(this,arguments)}function x(){return(x=Object(m.a)(f.a.mark((function t(e){var n,r,a,c=arguments;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"GET",r=c.length>2&&void 0!==c[2]?c[2]:null,t.prev=2,t.next=5,v({url:"".concat(g).concat(e),method:n,data:r,params:"GET"===n?r:null});case 5:return a=t.sent,t.abrupt("return",a.data);case 9:throw t.prev=9,t.t0=t.catch(2),console.log("Had Issues ".concat(n,"ing to the backend, endpoint: ").concat(e,", with data: ").concat(r)),console.dir(t.t0),t.t0.response&&401===t.t0.response.status&&(sessionStorage.clear(),window.location.assign("/")),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}var k={query:function(){return y.apply(this,arguments)}};function y(){return(y=Object(m.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O("flight");case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}var S=n(2),T=[{path:"/",component:function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={clockInterval:null,time:"",showFlights:!1,flights:[]},t.startClock=function(){var e=setInterval((function(){var e=(new Date).toLocaleTimeString("en-US",{timeZone:"America/New_York",hour:"2-digit",minute:"2-digit"});t.setState((function(t){return Object(d.a)(Object(d.a)({},t),{},{time:e})}))}),1e3);t.setState((function(t){return Object(d.a)(Object(d.a)({},t),{},{clockInterval:e})}))},t.toggleShowFlights=function(){t.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{showFlights:!t.state.showFlights})}))},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=Object(m.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.startClock(),t.prev=1,t.next=4,k.query();case 4:e=t.sent,this.setState((function(t){return Object(d.a)(Object(d.a)({},t),{},{flights:e})})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("Could not get flights",t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));return function(){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(this.state.clockInterval)}},{key:"render",value:function(){var t=this.state,e=t.time,n=t.flights,r=t.showFlights,a=new Date(Date.now()).toISOString().substring(0,10),c=new Date(Date.now()).toLocaleTimeString("en-US",{timeZone:"America/New_York",hour:"2-digit",minute:"2-digit"}),i=new Date(Date.now()+36e5).toLocaleTimeString("en-US",{timeZone:"America/New_York",hour:"2-digit",minute:"2-digit"});return Object(S.jsxs)("section",{className:"homepage flex column",children:[Object(S.jsxs)("h1",{children:["Current Time in JFK: ",e]}),Object(S.jsxs)("div",{className:"homepage-flights flex column align-center justify-center",children:[Object(S.jsx)("h1",{children:"There Are"}),Object(S.jsx)("button",{className:"btn",onClick:this.toggleShowFlights,children:n.length}),Object(S.jsxs)("h1",{children:["Flights From ",c," Till ",i," On ",a]})]}),!r&&Object(S.jsx)("h3",{children:"Click on the flights count to show flight list"}),r&&Object(S.jsx)("div",{className:"flight-preview flex column",children:n.map((function(t){return Object(S.jsxs)("h2",{children:[t.iata?t.iata:"No IATA number"," - Departure at ",t.departure]},t.iata)}))})]})}}]),n}(a.a.Component),label:"Home \ud83c\udfe0"}],C=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(S.jsx)("div",{children:Object(S.jsx)("main",{children:Object(S.jsx)(p.c,{children:T.map((function(t){return Object(S.jsx)(p.a,{exact:!0,component:t.component,path:t.path},t.path)}))})})})}}]),n}(a.a.Component);n(67);i.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(o.a,{children:Object(S.jsx)(C,{})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.7597a382.chunk.js.map